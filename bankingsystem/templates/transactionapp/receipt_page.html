{% extends 'common_page.html' %}
{% load bootstrap %}

{% block title %}Transaction Receipt{% endblock title %}

{% block body_content %}
<style>
    .container {
        max-width: 750px;
        margin: 120px auto;
        background: #fff;
        padding: 35px;
        border-radius: 16px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        font-family: 'Segoe UI', sans-serif;
    }
    h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 2rem;
    }
    .card {
        background-color: #f9f9f9;
        border-radius: 10px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    }
    .card-header-title {
        font-size: 1.2rem;
        font-weight: bold;
        color: #007bff;
        border-bottom: 1px solid #ddd;
        margin-bottom: 1.2rem;
        padding-bottom: 0.5rem;
    }
    .field {
        margin-bottom: 15px;
    }
    .label {
        font-weight: bold;
        color: #34495e;
    }
    .control {
        font-size: 1.05rem;
        color: #555;
    }
    .no-data {
        text-align: center;
        color: #888;
        font-style: italic;
        margin-top: 40px;
    }
</style>

<div class="container">
    <h1>Transaction Receipt</h1>

    {% if transaction %}
        {% for transact in transaction %}
            <div class="card">
                <div class="card-header-title">Transaction Details</div>

                <!-- User Info -->
                <div class="field">
                    <label class="label">Name</label>
                    <div class="control">{{ transact.user.first_name }} {{ transact.user.last_name }}</div>
                </div>

                <div class="field">
                    <label class="label">Account Number</label>
                    <div class="control">{{ transact.account.account_number }}</div>
                </div>

                <!-- Transaction Info -->
                <div class="field">
                    <label class="label">Transaction Type</label>
                    <div class="control">{{ transact.transaction_type|capfirst }}</div>
                </div>

                <div class="field">
                    <label class="label">Date</label>
                    <div class="control">{{ transact.transaction_date }}</div>
                </div>

                <div class="field">
                    <label class="label">Amount</label>
                    <div class="control">₦{{ transact.transaction_amount }}</div>
                </div>

                <!-- Conditional Details -->
                {% if transact.transaction_type == "transfer" or transact.transaction_type == "pay_bill" %}
                    {% if transact.recepient_bank_name %}
                        <div class="field">
                            <label class="label">Beneficiary Bank</label>
                            <div class="control">{{ transact.recepient_bank_name }}</div>
                        </div>
                    {% endif %}

                    {% if transact.recepient_account_number %}
                        <div class="field">
                            <label class="label">Beneficiary Account Number</label>
                            <div class="control">{{ transact.recepient_account_number }}</div>
                        </div>
                    {% endif %}
                {% elif transact.transaction_type == "recharge" %}
                    <div class="field">
                        <label class="label">Mobile Network</label>
                        <div class="control">{{ transact.mobile_networks }}</div>
                    </div>

                    <div class="field">
                        <label class="label">Phone Number</label>
                        <div class="control">{{ transact.recepient_phone_number }}</div>
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    {% else %}
        <p class="no-data">No transaction details found.</p>
    {% endif %}
</div>
{% endblock body_content %}




{% comment %} {% extends 'common_page.html' %}
{% load bootstrap %}

{% block title %}Transaction Receipt{% endblock title %}

{% block body_content %}
`
<div class="container">
    <h1>Transaction Receipt</h1>

    {% if transaction %}
        {% for transact in transaction %}
            <div class="card">
                <header class="card-header">
                    <p class="card-header-title">
                        <span class="icon"><i class="mdi mdi-receipt"></i></span>
                        Transaction Details
                    </p>
                </header>
                <div class="card-content">
                    <hr>
                    <div class="field">
                        <label class="label">Name</label>
                        <div class="control">{{ transact.user.first_name }} {{ transact.user.last_name }}</div>
                    </div>

                    <div class="field">
                        <label class="label">Account Number</label>
                        <div class="control">{{ transact.account.account_number }}</div>
                    </div>

                    <div class="field">
                        <label class="label">Transaction Type</label>
                        <div class="control">{{ transact.transaction_type|capfirst }}</div>
                    </div>

                    <div class="field">
                        <label class="label">Date</label>
                        <div class="control">{{ transact.transaction_date }}</div>
                    </div>

                    <div class="field">
                        <label class="label">Amount</label>
                        <div class="control">₦{{ transact.transaction_amount }}</div>
                    </div>

                    {% if transact.transaction_type == "transfer" or transact.transaction_type == "pay_bill" %}
                        {% if transact.recepient_bank_name %}
                            <div class="field">
                                <label class="label">Beneficiary Bank</label>
                                <div class="control">{{ transact.recepient_bank_name }}</div>
                            </div>
                        {% endif %}

                        {% if transact.recepient_account_number %}
                            <div class="field">
                                <label class="label">Beneficiary Account Number</label>
                                <div class="control">{{ transact.recepient_account_number }}</div>
                            </div>
                        {% endif %}
                    {% elif transact.transaction_type == "recharge" %}
                        <div class="field">
                            <label class="label">Mobile Network</label>
                            <div class="control">{{ transact.mobile_networks }}</div>
                        </div>

                        <div class="field">
                            <label class="label">Phone Number</label>
                            <div class="control">{{ transact.recepient_phone_number }}</div>
                        </div>
                    {% endif %}
                </div>
            </div>
            <hr>
        {% endfor %}
    {% else %}
        <p>No transaction details found.</p>
    {% endif %}
</div>
{% endblock body_content %} {% endcomment %}
